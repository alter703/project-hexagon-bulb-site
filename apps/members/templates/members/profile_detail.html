{% extends 'base.html' %}

{% block title %}{% if user == profile.user %}Your Profile{% else %}Profile{% endif %}{% endblock %}

{% block content %}
<div class="container">
  <ul class="nav nav-tabs my-2" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">Profile Card</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">Questions</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false">Polls</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="bookmark-tab" data-bs-toggle="tab" data-bs-target="#bookmark" type="button" role="tab" aria-controls="bookmark" aria-selected="false">Bookmarked</button>
    </li>
  </ul>
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
      <div class="card text-center mx-5 mt-4">
        {% include 'members/includes/profile_card.html' %}
      </div>
    </div>
    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
      <div class="row gx-4 row-cols-2">
          {% for question in user_questions %}
          <div class="col">
            {% include 'questionHub/includes/question_card.html' %}
          </div>
          {% empty %}
          <div class="fw-bold fs-3 text-center">You didn't ask anything. Perhaps, you already have a question?</div>
          <div class="p-3 d-flex justify-content-center">
            <a href="{% url 'questionHub:ask' %}">
              <div class="btn btn-primary btn-lg text-white fw-bold fs-6 mt-4">Ask Question</div>
            </a>
          </div>
          {% endfor %}
      </div>
    </div>
    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
      <div class="row gx-4 row-cols-2">
          {% for poll in user_polls %}
            <div class="col">
              {% include 'pollFeed/includes/poll_card.html' %}
            </div>
            {% empty %}
            <div class="fw-bold fs-3 text-center">You didn't create any poll. Maybe you have a choice, but you don't know what to choose?</div>
            <div class="p-3 d-flex justify-content-center">
              <a href="{% url 'pollFeed:create' %}">
                <div class="btn btn-primary btn-lg text-white fw-bold fs-6 mt-4">Create Poll</div>
              </a>
            </div>
          {% endfor %}
      </div>
      </div>
    </div>
    <div class="tab-pane fade" id="bookmark" role="tabpanel" aria-labelledby="bookmark-tab">
      <div class="row">
        {% for bookmark in bookmarks %}
        
        {% include 'members/includes/bookmark_card.html' %}

        {% empty %}
        <div class="fw-bold fs-3 text-center">You didn't bookmarked any of questions. Try to search some questions, maybe some of them you would save to not forget.</div>
        <div class="p-3 d-flex justify-content-center">
          <a href="{% url 'questionHub:index' %}">
            <div class="btn btn-primary btn-lg text-white fw-bold fs-6 mt-4">See Questions</div>
          </a>
        </div>
        {% endfor %}
    </div>
    </div>
  </div>
</div>


{% endblock %}